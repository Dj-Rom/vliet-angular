import{a as B}from"./chunk-UJDGDID7.js";import{a as A}from"./chunk-UUXXO257.js";import{c as L,d as N}from"./chunk-2Y56YT2H.js";import{a as $}from"./chunk-PS23FTD2.js";import{b as T,d as j,h as z,q as V}from"./chunk-HPGZ2Y7G.js";import{f as S,i as E}from"./chunk-CI6ANZ2A.js";import{$a as l,Ab as I,Da as h,Ha as w,Ma as b,V as u,W as x,Ya as C,Za as n,_a as a,a as p,b as m,fb as y,j as v,jb as s,lb as _,rb as c,sb as f,ub as M,va as g,vb as P,wb as O,zb as k}from"./chunk-B4AEFEQM.js";function F(d,e){if(d&1){let t=y();n(0,"div")(1,"div",11)(2,"div",12),l(3,"img",13),n(4,"span",14),c(5),a()(),n(6,"div",15)(7,"button",16),s("click",function(){let o=u(t).$implicit,r=_();return x(r.decrement(o.key))}),l(8,"img",17),a(),n(9,"span",18),c(10),a(),n(11,"button",16),s("click",function(){let o=u(t).$implicit,r=_();return x(r.increment(o.key))}),l(12,"img",19),a(),n(13,"button",20),s("click",function(){u(t);let o=_();return x(o.calculator())}),l(14,"img",21),a()()()()}if(d&2){let t=e.$implicit;g(5),f(t.key),g(5),f(t.value)}}var D=class d{constructor(e,t,i){this.router=e;this.listService=t;this.alert=i;this.id=decodeURIComponent(this.router.url.split("/")[4]);let o=this.listService.getSavedLists()[this.id];this.companyName=o.name,o?this._list$.next(p({},o)):console.error("List not found for ID:",this.id)}id="";companyName;_list$=new v(null);list$=this._list$.asObservable();get list(){return this._list$.value}onCompanyNameInput(e){let t=m(p({},this.list),{name:e.target.value});this._list$.next(t)}addToList(e,t){let i=m(p({},this.list),{value:m(p({},this.list.value),{[e]:t})});this._list$.next(i)}async doneSaveEdit(){if(!this.companyName.trim()){let e=document.querySelector(".item-info");e.classList.add("error-active"),this.alert.show("error","Please fill company name"),e.addEventListener("focusin",()=>e.classList.remove("error-active"));return}this.listService.updateSavedLists(this.list)}increment(e){let t=(this.list?.value[e]??0)+1;this.addToList(e,t)}decrement(e){let t=Math.max(0,(this.list?.value[e]??0)-1);this.addToList(e,t)}calculator(){}static \u0275fac=function(t){return new(t||d)(h(L),h(A),h($))};static \u0275cmp=w({type:d,selectors:[["app-edit-item"]],decls:17,vars:4,consts:[[1,"header-add-new-list","font400size16","mt12"],["routerLink","/app/load-management/all",1,"font500size14"],[1,"font400size16"],[1,"font500size14",3,"click"],[1,"client-input"],[1,"font500size14"],[1,"item","mt6"],[1,"item-info"],["type","text","placeholder","Enter list name","id","inputAddNewListCompanyName",1,"font400size16","inpClient",3,"ngModelChange","input","ngModel"],[1,"edit-item-page","mt6"],[4,"ngFor","ngForOf"],[1,"section-add-new-list","mt6"],[1,"section-add-new-list-text"],["src","assets/svg/load-calc-icons/Info.svg","alt","icon"],[1,"font600size16"],[1,"section-add-new-list-buttons"],[1,"btn",3,"click"],["src","assets/svg/load-calc-icons/Vector.svg"],[1,"inp","font400size16"],["src","assets/svg/load-calc-icons/add.svg"],[1,"btn-calculate","btn",3,"click"],["src","assets/svg/load-calc-icons/Calculate.svg","alt","icon-calculate"]],template:function(t,i){t&1&&(l(0,"app-alert"),n(1,"div",0)(2,"button",1),c(3,"Back"),a(),n(4,"span",2),c(5,"Add Package"),a(),n(6,"button",3),s("click",function(){return i.doneSaveEdit()}),c(7,"Done"),a()(),n(8,"div",4)(9,"h3",5),c(10,"Title"),a(),n(11,"div",6)(12,"div",7)(13,"input",8),O("ngModelChange",function(r){return P(i.companyName,r)||(i.companyName=r),r}),s("input",function(r){return i.onCompanyNameInput(r)}),a()()()(),n(14,"section",9),b(15,F,15,2,"div",10),k(16,"keyvalue"),a()),t&2&&(g(13),M("ngModel",i.companyName),g(2),C("ngForOf",I(16,2,i.list.value)))},dependencies:[S,V,T,j,z,N,B,E],styles:[".edit-item-page[_ngcontent-%COMP%]{position:absolute;display:flex;width:100%;top:145px;left:0;height:90vh;overflow:scroll;flex-direction:column;align-items:center}.client-input[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;display:flex;flex-direction:column;align-items:center}.client-input[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:361px;color:var(--text-primary)}.client-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--text-primary)}.header-add-new-list[_ngcontent-%COMP%]{position:absolute;top:0;width:361px;height:44px;angle:0 deg;opacity:1;left:16px;gap:8px;display:flex;justify-content:space-between}.header-add-new-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:44px;height:44px;background:none;border:none;color:var(--focus-color)}.header-add-new-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;width:361px;margin-right:44px;color:var(--text-primary);justify-content:center}",".section-add-new-list[_ngcontent-%COMP%]{width:361px;height:112px;angle:0 deg;opacity:1;gap:8px;border-radius:6px;border-width:1px;padding:8px;background:var(--bg-container)}header[_ngcontent-%COMP%]{position:sticky;top:0;background:#000}.section-add-new-lists[_ngcontent-%COMP%]{height:2899px;overflow:scroll;margin-top:24px;display:flex;flex-direction:column;align-content:center;align-items:center}input[_ngcontent-%COMP%]{border:none!important;outline:none!important;box-shadow:none!important;background:var(--bg-input);width:361px;height:44px;angle:0 deg;opacity:1;gap:8px;border-radius:4px;border-width:1px;padding:10px 12px 10px 16px}input[_ngcontent-%COMP%]:focus{border:1px solid var(--stroke-focus)!important}.btn-calculate[_ngcontent-%COMP%]{background:none;border:none}.item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none}.header-add-new-list[_ngcontent-%COMP%]{margin-top:-24px;width:361px;height:44px;angle:0 deg;opacity:1;left:16px;gap:8px;display:flex;justify-content:space-between}.header-add-new-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:44px;height:44px;background:none;border:none;color:var(--focus-color)}.header-add-new-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;left:50px;width:361px;margin-right:44px;color:var(--text-primary);justify-content:center}.filterInput[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:361px;height:44px;angle:0 deg;opacity:1;gap:6px;background:var(--bg-input);margin-bottom:24px;border-radius:4px}.filterInput[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.filterInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--text-primary);border:none;width:290px;height:24px;angle:0 deg;opacity:1;background:var(--bg-input)}.filterInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none!important}.filterInput[_ngcontent-%COMP%]:focus-within{border:1px solid var(--stroke-focus)!important}.btn[_ngcontent-%COMP%]{width:44px;height:44px;angle:0 deg;opacity:1;gap:8px;border-radius:4px;border-width:1px;background:var(--stroke-light);color:var(--text-primary)}.addBtn[_ngcontent-%COMP%]{font-size:24px}.inp[_ngcontent-%COMP%]{width:189px;height:44px;angle:0 deg;opacity:1;gap:8px;text-align:center;border-radius:4px;border-width:1px;padding:10px 16px;background:var(--stroke-light);color:var(--text-primary)}.section-add-new-list-text[_ngcontent-%COMP%]{align-items:center;display:flex;width:345px;height:44px;angle:0 deg;opacity:1;gap:8px}.section-add-new-list-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.section-add-new-list-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center;width:261px;height:24px;angle:0 deg;opacity:1}.section-add-new-list-buttons[_ngcontent-%COMP%]{width:345px;height:44px;angle:0deg;opacity:1;gap:8px;display:flex;justify-content:space-between}.more[_ngcontent-%COMP%]{width:24px}.btnSaveContainer[_ngcontent-%COMP%]{position:fixed;z-index:199999;left:0;bottom:0;width:100%;text-align:center;margin:0 auto;height:80px;angle:0 deg;opacity:1;background:#000;padding:8px 16px 28px;gap:10px}.modal-window-box[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;top:0;background:#000c}.saveBtn[_ngcontent-%COMP%]{border:var(--focus-color);width:361px;height:44px;angle:0 deg;opacity:1;padding:10px 18px;gap:8px;border-radius:4px;background:var(--focus-color);color:var(--text-primary)}@media screen and (max-width:371px){.section-add-new-list[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{max-width:95vw}.btnSaveContainer[_ngcontent-%COMP%]{min-width:100%;padding:10px 0 0;gap:0;height:70px}.saveBtn[_ngcontent-%COMP%]{width:90vw}.section-add-new-list-buttons[_ngcontent-%COMP%], .section-add-new-list-text[_ngcontent-%COMP%]{max-width:90vw}}"]})};export{D as EditItem};
