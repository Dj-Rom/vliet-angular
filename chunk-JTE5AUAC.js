import{a as z}from"./chunk-UJDGDID7.js";import{e as N}from"./chunk-3HWJ3ZKD.js";import{a as F,b as h,c as j}from"./chunk-VRV3CRO6.js";import{a as A}from"./chunk-KQXXKGDI.js";import{b as T,c as D}from"./chunk-2Y56YT2H.js";import{q as V}from"./chunk-HPGZ2Y7G.js";import{g as L}from"./chunk-CI6ANZ2A.js";import{$a as b,Da as s,Ha as C,Ma as P,Ta as w,Ua as O,V as p,W as u,Ya as f,Za as d,_a as g,ab as c,bb as m,cb as v,fb as _,jb as M,kb as x,lb as l,ob as k,rb as a,sb as y,ua as E,va as r,xb as I}from"./chunk-B4AEFEQM.js";function q(i,t){if(i&1){let e=_();c(0,"button",2),x("click",function(){p(e);let o=l();return u(o.changeFileName())}),v(1,"img",5),a(2,"Change file name"),m()}}function G(i,t){if(i&1){let e=_();c(0,"div",6),v(1,"img",7),c(2,"div")(3,"h5",8),a(4),m(),c(5,"span",9),a(6),m()()(),c(7,"button",2),x("click",function(){p(e);let o=l();return u(o.edit(o.date))}),v(8,"img",10),a(9,"Edit"),m()}if(i&2){let e=l();r(4),y(e.title),r(2),y(e.date)}}var S=class i{constructor(t,e){this.moreMenuService=t;this.modalService=e}date;title;onDelete(t){this.moreMenuService.deleteListItem(t)}onSend(t){this.moreMenuService.sendToWhatsApp(t)}edit(t){this.moreMenuService.editListItem(t)}window=window;changeFileName(){this.modalService.openNameModal()}static \u0275fac=function(e){return new(e||i)(s(h),s(F))};static \u0275cmp=C({type:i,selectors:[["app-more-menu"]],inputs:{date:"date",title:"title"},features:[I([j])],decls:9,vars:1,consts:[[1,"more-menu"],[1,"block","font400size16"],[1,"block","font400size16",3,"click"],["src","assets/svg/navi/Sent.svg","alt","icon-sent"],["src","assets/svg/navi/Delete.svg","alt","icon-delete"],["src","assets/svg/load-calc-icons/Edit_pencl.svg","alt","icon"],[1,"block","title"],["src","assets/svg/load-calc-icons/LocationAway.svg","alt","icon"],[1,"font400size16"],[1,"font400size12"],["src","assets/svg/navi/Edit.svg","alt","icon-edit"]],template:function(e,n){e&1&&(c(0,"section",0),w(1,q,3,0,"button",1)(2,G,10,2),c(3,"button",2),x("click",function(){return n.onSend(n.date)}),v(4,"img",3),a(5,"Sent"),m(),c(6,"button",2),x("click",function(){return n.onDelete(n.date)}),v(7,"img",4),a(8,"Delete"),m()()),e&2&&(r(),O(n.window.location.pathname.includes("/app/load-management/add")?1:2))},styles:[".more-menu[_ngcontent-%COMP%]{border-radius:4px 4px 0 0;width:100%;height:252px;background:var( --bg-container);color:var(--text-primary);position:fixed;bottom:0;left:0;z-index:9900001;display:flex;flex-direction:column;align-items:center;justify-content:center}.more-menu[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-bottom:1px solid var(--stroke-dark)}.more-menu[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{display:flex;align-items:center;width:361px;height:56px;min-height:56px;angle:0 deg;opacity:1;gap:8px;padding-top:6px;padding-bottom:6px}.more-menu[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;margin:8px}.more-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-secondary-color)}.more-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;color:var(--text-primary)}"]})};function J(i,t){i&1&&(d(0,"span",7),a(1,"Packaging Receiving"),g())}function K(i,t){if(i&1){let e=_();d(0,"nav",8)(1,"ul",9)(2,"li",10),M("click",function(){p(e);let o=l();return u(o.changePage("all"))}),a(3,"All"),g(),d(4,"li",11),M("click",function(){p(e);let o=l();return u(o.changePage("today"))}),a(5,"Today"),g()()()}if(i&2){let e=l();r(2),k("active",e.selectedPage==="all"),r(2),k("active",e.selectedPage==="today")}}function Q(i,t){if(i&1&&(d(0,"app-more-menu",12),a(1," >"),g()),i&2){let e=l();f("date",e.menuDate)("title",e.menuTitle)}}var R=class i{constructor(t,e,n,o){this.router=t;this.loadCalculatorService=e;this.firebase=n;this.moreMenuService=o;this.selectedPage=t.url.split("/").pop()||"all"}selectedPage="all";isOpenMoreMenu=!1;menuTitle="";menuDate="";ngOnInit(){this.updateMenuState(),this.moreMenuService.isOpenMenuChanged$.subscribe(()=>{this.updateMenuState()});let t=this.router.url.split("/").pop();this.selectedPage=t||"all",console.log(t)}updateMenuState(){this.isOpenMoreMenu=this.moreMenuService.getIsActiveMoreMenu()}openMenu(t,e){this.menuTitle=t,this.menuDate=e,this.moreMenuService.setIsOpenMoreMenu()}doneSave(){this.loadCalculatorService.onDone()}changePage(t){this.selectedPage=t,this.router.navigate(["app/load-management",t])}onClickOutside(t){t.target.closest("img")||this.moreMenuService.closeMoreMenu()}static \u0275fac=function(e){return new(e||i)(s(D),s(A),s(N),s(h))};static \u0275cmp=C({type:i,selectors:[["app-load-calculator-page"]],hostBindings:function(e,n){e&1&&M("click",function(H){return n.onClickOutside(H)},E)},decls:8,vars:3,consts:[[1,"calculator-section","mt24"],["class","font400size16",4,"ngIf"],["class","navi font400size14 mt24",4,"ngIf"],[1,"mt24"],[3,"date","title",4,"ngIf"],[1,"btnAdd","active",3,"click"],["src","assets/svg/load-calc-icons/add.svg"],[1,"font400size16"],[1,"navi","font400size14","mt24"],[1,"navi-ul"],["id","all",3,"click"],["id","today",3,"click"],[3,"date","title"]],template:function(e,n){e&1&&(b(0,"app-alert"),d(1,"section",0),P(2,J,2,0,"span",1)(3,K,6,4,"nav",2),b(4,"router-outlet",3),P(5,Q,2,2,"app-more-menu",4),d(6,"button",5),M("click",function(){return n.changePage("add")}),b(7,"img",6),g()()),e&2&&(r(2),f("ngIf",n.selectedPage!="add"),r(),f("ngIf",n.selectedPage!=="add"),r(2),f("ngIf",n.isOpenMoreMenu))},dependencies:[T,V,L,z,S],styles:[".calculator-section[_ngcontent-%COMP%]{position:absolute;top:0;color:#fff;width:100%;display:flex;flex-direction:column;align-items:center;left:0}.btnAdd[_ngcontent-%COMP%]{position:fixed;width:56px;height:56px;angle:0 deg;opacity:1;bottom:90px;right:30px;gap:8px;padding:12px;border-radius:50%!important;background:var(--button-primary-bg)!important}.navi[_ngcontent-%COMP%]{width:393px;height:40px;gap:10px;angle:0 deg;opacity:1;padding-right:16px;padding-left:16px}.active[_ngcontent-%COMP%]{font-weight:600;border:1px solid var(--button-primary-bg);border-radius:6px;background:var(--button-primary-bg)!important;color:var(--text-primary)!important}.navi-ul[_ngcontent-%COMP%]{width:361px;height:40px;angle:0 deg;opacity:1;border-radius:6px;padding:2px;background:var(--bg-container);list-style:none;display:flex}.navi-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center;color:var(--text-tertiary);background:var(--bg-container);width:178.5px;height:36px;gap:8px;angle:0 deg;opacity:1;padding:8px 16px;border-radius:4px}"]})};export{R as a};
