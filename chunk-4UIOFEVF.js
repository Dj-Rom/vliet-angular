import{a as J}from"./chunk-UJDGDID7.js";import{e as H}from"./chunk-3HWJ3ZKD.js";import{a as O,b as h,c as K}from"./chunk-CMG5YJML.js";import{a as k}from"./chunk-UUXXO257.js";import{b as R,c as P}from"./chunk-2Y56YT2H.js";import{b as W,d as q,h as G,q as w}from"./chunk-HPGZ2Y7G.js";import{g as B}from"./chunk-CI6ANZ2A.js";import{$a as b,Da as l,Ha as _,Ma as L,Ta as A,Ua as D,V as f,W as M,Ya as s,Za as c,_a as d,ab as p,bb as u,cb as x,fb as C,jb as g,kb as S,lb as m,ob as N,rb as r,sb as y,ua as T,ub as z,va as a,vb as j,wb as V,xb as F}from"./chunk-B4AEFEQM.js";function $(n,t){if(n&1){let e=C();p(0,"button",2),S("click",function(){f(e);let o=m();return M(o.changeFileName())}),x(1,"img",5),r(2,"Change file name"),u()}}function ee(n,t){if(n&1){let e=C();p(0,"div",6),x(1,"img",7),p(2,"div")(3,"h5",8),r(4),u(),p(5,"span",9),r(6),u()()(),p(7,"button",2),S("click",function(){f(e);let o=m();return M(o.edit(o.date))}),x(8,"img",10),r(9,"Edit"),u()}if(n&2){let e=m();a(4),y(e.title),a(2),y(e.date)}}var E=class n{constructor(t,e){this.moreMenuService=t;this.modalService=e}date;title;onDelete(t){this.moreMenuService.deleteListItem(t)}onSend(t){this.moreMenuService.sendToWhatsApp(t)}edit(t){this.moreMenuService.editListItem(t)}window=window;changeFileName(){this.modalService.openNameModal()}static \u0275fac=function(e){return new(e||n)(l(O),l(h))};static \u0275cmp=_({type:n,selectors:[["app-more-menu"]],inputs:{date:"date",title:"title"},features:[F([K])],decls:9,vars:1,consts:[[1,"more-menu"],[1,"block","font400size16"],[1,"block","font400size16",3,"click"],["src","assets/svg/navi/Sent.svg","alt","icon-sent"],["src","assets/svg/navi/Delete.svg","alt","icon-delete"],["src","assets/svg/load-calc-icons/Edit_pencl.svg","alt","icon"],[1,"block","title"],["src","assets/svg/load-calc-icons/LocationAway.svg","alt","icon"],[1,"font400size16"],[1,"font400size12"],["src","assets/svg/navi/Edit.svg","alt","icon-edit"]],template:function(e,i){e&1&&(p(0,"section",0),A(1,$,3,0,"button",1)(2,ee,10,2),p(3,"button",2),S("click",function(){return i.onSend(i.date)}),x(4,"img",3),r(5,"Sent"),u(),p(6,"button",2),S("click",function(){return i.onDelete(i.date)}),x(7,"img",4),r(8,"Delete"),u()()),e&2&&(a(),D(i.window.location.pathname.includes("/app/load-management/add")?1:2))},styles:[".more-menu[_ngcontent-%COMP%]{border-radius:4px 4px 0 0;width:100%;height:252px;background:var( --bg-container);color:var(--text-primary);position:fixed;bottom:0;left:0;z-index:9900001;display:flex;flex-direction:column;align-items:center;justify-content:center}.more-menu[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-bottom:1px solid var(--stroke-dark)}.more-menu[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{display:flex;align-items:center;width:361px;height:56px;min-height:56px;angle:0 deg;opacity:1;gap:8px;padding-top:6px;padding-bottom:6px}.more-menu[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;margin:8px}.more-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-secondary-color)}.more-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;color:var(--text-primary)}"]})};var I=class n{constructor(t,e,i){this.listService=t;this.router=e;this.modalService=i}name;title;placeholder;create(){try{this.listService.currentCompanyName.set(this.name),this.close()}catch{alert("error")}}close(){this.modalService.closeNameModal()}cancel(){this.modalService.closeNameModal()}static \u0275fac=function(e){return new(e||n)(l(k),l(P),l(h))};static \u0275cmp=_({type:n,selectors:[["app-add-name-modal"]],inputs:{title:"title",placeholder:"placeholder"},decls:9,vars:4,consts:[[1,"modal-window",2,"display","flex","justify-content","center","flex-direction","column"],[1,"font400size16","mt16"],["type","text",1,"font400size16",3,"ngModelChange","ngModel","ngModel"],[1,"groupBtn","mt6"],[1,"font500size16",3,"click"],["]","",1,"font600size16","createBtn",3,"click","disabled"]],template:function(e,i){e&1&&(c(0,"section",0)(1,"h2",1),r(2),d(),c(3,"input",2),V("ngModelChange",function(v){return j(i.name,v)||(i.name=v),v}),d(),c(4,"div",3)(5,"button",4),g("click",function(){return i.cancel()}),r(6,"Cancel"),d(),c(7,"button",5),g("click",function(){return i.create()}),r(8,"Create"),d()()()),e&2&&(a(2),y(i.title),a(),z("ngModel",i.name),s("ngModel",i.placeholder),a(4),s("disabled",!i.name))},dependencies:[w,W,q,G],styles:[".modal-window-box[_ngcontent-%COMP%]{width:100%;height:100vh;background:#00000080}.modal-window[_ngcontent-%COMP%]{width:304px;height:176px;left:50%;transform:translate(-50%);gap:16px;angle:0 deg;opacity:1;padding:16px 24px;border-radius:8px;border-width:1px;background:var(--bg-container);position:fixed;text-align:center;top:204px;z-index:99}.modal-window[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:256px;height:44px;gap:8px;angle:0 deg;opacity:1;padding:10px 12px 10px 16px;border-radius:4px;border-width:1px;background:var(--bg-input);border:1px solid var(--focus-color);color:var(--text-primary)}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:hover, input[_ngcontent-%COMP%]:active, input[_ngcontent-%COMP%]:focus-within, input[_ngcontent-%COMP%]:focus-visible{color:var(--text-primary)!important;outline:none!important;border:1px solid var(--focus-color)!important}.groupBtn[_ngcontent-%COMP%]{width:256px;height:44px;gap:9px;angle:0 deg;opacity:1;display:flex}.groupBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:123.5px;height:44px;gap:8px;angle:0 deg;opacity:1;padding:10px 18px;border-radius:4px;background:transparent;color:var(--text-secondary-color);border:none}.groupBtn[_ngcontent-%COMP%]   .createBtn[_ngcontent-%COMP%]{background:var(--button-primary-color);color:var(--primary-color)}button[_ngcontent-%COMP%]:disabled{background:var(--button-primary-disabled)!important}"]})};function ne(n,t){n&1&&(c(0,"span",8),r(1,"Packaging Receiving"),d())}function oe(n,t){if(n&1){let e=C();c(0,"nav",9)(1,"ul",10)(2,"li",11),g("click",function(){f(e);let o=m();return M(o.changePage("all"))}),r(3,"All"),d(),c(4,"li",12),g("click",function(){f(e);let o=m();return M(o.changePage("today"))}),r(5,"Today"),d()()()}if(n&2){let e=m();a(2),N("active",e.selectedPage==="all"),a(2),N("active",e.selectedPage==="today")}}function ae(n,t){if(n&1&&(c(0,"app-more-menu",13),r(1," >"),d()),n&2){let e=m();s("date",e.menuDate)("title",e.menuTitle)}}function re(n,t){if(n&1&&(c(0,"section",14),b(1,"app-add-name-modal",15),d()),n&2){let e=m();a(),s("title","Enter the name")("placeholder",e.loadCalculatorService.currentCompanyName())}}var Y=class n{constructor(t,e,i,o,v){this.router=t;this.loadCalculatorService=e;this.firebase=i;this.moreMenuService=o;this.modalService=v;this.selectedPage=t.url.split("/").pop()||"all"}selectedPage="all";isOpenMoreMenu=!1;menuTitle="";menuDate="";get isOpen(){return this.modalService.isNameModalOpen()}ngAfterViewInit(){requestAnimationFrame(()=>{this.modalService.openNameModal()})}ngOnInit(){this.updateMenuState(),this.moreMenuService.isOpenMenuChanged$.subscribe(()=>{this.updateMenuState()});let t=this.router.url.split("/").pop();this.selectedPage=t||"all",console.log(t)}updateMenuState(){this.isOpenMoreMenu=this.moreMenuService.getIsActiveMoreMenu()}openMenu(t,e){this.menuTitle=t,this.menuDate=e,this.moreMenuService.setIsOpenMoreMenu()}doneSave(){this.loadCalculatorService.onDone()}changePage(t){this.selectedPage=t,this.router.navigate(["app/load-management",t])}onClickOutside(t){t.target.closest("img")||this.moreMenuService.closeMoreMenu()}static \u0275fac=function(e){return new(e||n)(l(P),l(k),l(H),l(O),l(h))};static \u0275cmp=_({type:n,selectors:[["app-load-calculator-page"]],hostBindings:function(e,i){e&1&&g("click",function(v){return i.onClickOutside(v)},T)},decls:9,vars:4,consts:[[1,"calculator-section","mt24"],["class","font400size16",4,"ngIf"],["class","navi font400size14 mt24",4,"ngIf"],[1,"mt24"],[3,"date","title",4,"ngIf"],["class","modal-window-box",4,"ngIf"],[1,"btnAdd","active",3,"click"],["src","assets/svg/load-calc-icons/add.svg"],[1,"font400size16"],[1,"navi","font400size14","mt24"],[1,"navi-ul"],["id","all",3,"click"],["id","today",3,"click"],[3,"date","title"],[1,"modal-window-box"],[3,"title","placeholder"]],template:function(e,i){e&1&&(b(0,"app-alert"),c(1,"section",0),L(2,ne,2,0,"span",1)(3,oe,6,4,"nav",2),b(4,"router-outlet",3),L(5,ae,2,2,"app-more-menu",4)(6,re,2,2,"section",5),c(7,"button",6),g("click",function(){return i.changePage("add")}),b(8,"img",7),d()()),e&2&&(a(2),s("ngIf",i.selectedPage!="add"),a(),s("ngIf",i.selectedPage!=="add"),a(2),s("ngIf",i.isOpenMoreMenu),a(),s("ngIf",i.isOpen))},dependencies:[R,w,B,J,E,I],styles:[".calculator-section[_ngcontent-%COMP%]{position:absolute;top:0;color:#fff;width:100%;display:flex;flex-direction:column;align-items:center;left:0}.btnAdd[_ngcontent-%COMP%]{position:fixed;width:56px;height:56px;angle:0 deg;opacity:1;bottom:90px;right:30px;gap:8px;padding:12px;border-radius:50%!important;background:var(--button-primary-bg)!important}.navi[_ngcontent-%COMP%]{width:393px;height:40px;gap:10px;angle:0 deg;opacity:1;padding-right:16px;padding-left:16px}.active[_ngcontent-%COMP%]{font-weight:600;border:1px solid var(--button-primary-bg);border-radius:6px;background:var(--button-primary-bg)!important;color:var(--text-primary)!important}.navi-ul[_ngcontent-%COMP%]{width:361px;height:40px;angle:0 deg;opacity:1;border-radius:6px;padding:2px;background:var(--bg-container);list-style:none;display:flex}.navi-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center;color:var(--text-tertiary);background:var(--bg-container);width:178.5px;height:36px;gap:8px;angle:0 deg;opacity:1;padding:8px 16px;border-radius:4px}"]})};export{Y as a};
