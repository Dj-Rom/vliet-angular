import{a as A}from"./chunk-AF7JXSX7.js";import{a as D}from"./chunk-53A4UQ2N.js";import{c as L,d as N}from"./chunk-5SBTTGMY.js";import{a as $}from"./chunk-QZF37CAG.js";import{b as T,d as j,h as V,q as z}from"./chunk-LY3SBGMY.js";import{f as S,i as E}from"./chunk-NPRT3BWK.js";import{$a as r,Ab as k,Bb as I,Ea as h,Ia as b,Na as y,V as u,W as x,Za as w,_a as n,a as d,ab as s,b as g,gb as C,j as v,kb as c,mb as _,sb as l,tb as f,vb as M,wa as m,wb as P,xb as O}from"./chunk-GCAN2TPR.js";function B(p,e){if(p&1){let t=C();n(0,"div")(1,"div",11)(2,"div",12),s(3,"img",13),n(4,"span",14),l(5),r()(),n(6,"div",15)(7,"button",16),c("click",function(){let o=u(t).$implicit,a=_();return x(a.decrement(o.key))}),s(8,"img",17),r(),n(9,"span",18),l(10),r(),n(11,"button",16),c("click",function(){let o=u(t).$implicit,a=_();return x(a.increment(o.key))}),s(12,"img",19),r(),n(13,"button",20),c("click",function(){u(t);let o=_();return x(o.calculator())}),s(14,"img",21),r()()()()}if(p&2){let t=e.$implicit;m(5),f(t.key),m(5),f(t.value)}}var F=class p{constructor(e,t,i){this.router=e;this.listService=t;this.alert=i;this.id=decodeURIComponent(this.router.url.split("/")[4]);let o=this.listService.getSavedLists()[this.id];this.companyName=o.name,o?this._list$.next(d({},o)):console.error("List not found for ID:",this.id)}id="";companyName;_list$=new v(null);list$=this._list$.asObservable();get list(){return this._list$.value}onCompanyNameInput(e){let t=g(d({},this.list),{name:e.target.value});this._list$.next(t)}addToList(e,t){let i=g(d({},this.list),{value:g(d({},this.list.value),{[e]:t})});this._list$.next(i)}async doneSaveEdit(){if(!this.companyName.trim()){let e=document.querySelector(".item-info");e.classList.add("error-active"),this.alert.show("error","Please fill company name"),e.addEventListener("focusin",()=>e.classList.remove("error-active"));return}this.listService.updateSavedLists(this.list)}increment(e){let t=(this.list?.value[e]??0)+1;this.addToList(e,t)}decrement(e){let t=Math.max(0,(this.list?.value[e]??0)-1);this.addToList(e,t)}calculator(){}static \u0275fac=function(t){return new(t||p)(h(L),h(D),h($))};static \u0275cmp=b({type:p,selectors:[["app-edit-item"]],decls:17,vars:4,consts:[[1,"header-add-new-list","font400size16","mt12"],["routerLink","/app/load-management/all",1,"font500size14"],[1,"font400size16"],[1,"font500size14",3,"click"],[1,"client-input"],[1,"font500size14"],[1,"item","mt6"],[1,"item-info"],["type","text","placeholder","Enter list name","id","inputAddNewListCompanyName",1,"font400size16","inpClient",3,"ngModelChange","input","ngModel"],[1,"edit-item-page","mt6"],[4,"ngFor","ngForOf"],[1,"section-add-new-list","mt6"],[1,"section-add-new-list-text"],["src","assets/svg/load-calc-icons/Info.svg","alt","icon"],[1,"font600size16"],[1,"section-add-new-list-buttons"],[1,"btn",3,"click"],["src","assets/svg/load-calc-icons/Vector.svg"],[1,"inp","font400size16"],["src","assets/svg/load-calc-icons/add.svg"],[1,"btn-calculate","btn",3,"click"],["src","assets/svg/load-calc-icons/Calculate.svg","alt","icon-calculate"]],template:function(t,i){t&1&&(s(0,"app-alert"),n(1,"div",0)(2,"button",1),l(3,"Back"),r(),n(4,"span",2),l(5,"Add Package"),r(),n(6,"button",3),c("click",function(){return i.doneSaveEdit()}),l(7,"Done"),r()(),n(8,"div",4)(9,"h3",5),l(10,"Title"),r(),n(11,"div",6)(12,"div",7)(13,"input",8),O("ngModelChange",function(a){return P(i.companyName,a)||(i.companyName=a),a}),c("input",function(a){return i.onCompanyNameInput(a)}),r()()()(),n(14,"section",9),y(15,B,15,2,"div",10),k(16,"keyvalue"),r()),t&2&&(m(13),M("ngModel",i.companyName),m(2),w("ngForOf",I(16,2,i.list.value)))},dependencies:[S,z,T,j,V,N,A,E],styles:[".edit-item-page[_ngcontent-%COMP%]{position:absolute;display:flex;width:100%;top:145px;left:0;height:90vh;overflow:scroll;flex-direction:column;align-items:center}.client-input[_ngcontent-%COMP%]{position:absolute;top:70px;left:0;width:100%;display:flex;flex-direction:column;align-items:center}.client-input[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:361px;color:var(--text-primary)}.client-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--text-primary)}.header-add-new-list[_ngcontent-%COMP%]{position:absolute;top:0;width:361px;height:44px;angle:0 deg;opacity:1;left:16px;gap:8px;display:flex;justify-content:space-between}.header-add-new-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:44px;height:44px;background:none;border:none;color:var(--focus-color)}.header-add-new-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;width:361px;margin-right:44px;color:var(--text-primary);justify-content:center}",".section-add-new-list[_ngcontent-%COMP%]{width:361px;height:112px;angle:0 deg;opacity:1;gap:8px;border-radius:6px;border-width:1px;padding:8px;background:var(--bg-container)}header[_ngcontent-%COMP%]{position:sticky;top:0;background:#000}.section-add-new-lists[_ngcontent-%COMP%]{height:2899px;overflow:scroll;margin-top:24px}input[_ngcontent-%COMP%]{border:none!important;outline:none!important;box-shadow:none!important;background:var(--bg-input);width:361px;height:44px;angle:0 deg;opacity:1;gap:8px;border-radius:4px;border-width:1px;padding:10px 12px 10px 16px}input[_ngcontent-%COMP%]:focus{border:1px solid var(--stroke-focus)!important}.btn-calculate[_ngcontent-%COMP%]{background:none;border:none}.item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none}.header-add-new-list[_ngcontent-%COMP%]{margin-top:-24px;width:361px;height:44px;angle:0 deg;opacity:1;left:16px;gap:8px;display:flex;justify-content:space-between}.header-add-new-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:44px;height:44px;background:none;border:none;color:var(--focus-color)}.header-add-new-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;left:50px;width:361px;margin-right:44px;color:var(--text-primary);justify-content:center}.filterInput[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:361px;height:44px;angle:0 deg;opacity:1;gap:6px;background:var(--bg-input);margin-bottom:24px;border-radius:4px}.filterInput[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.filterInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--text-primary);border:none;width:290px;height:24px;angle:0 deg;opacity:1;background:var(--bg-input)}.filterInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none!important}.filterInput[_ngcontent-%COMP%]:focus-within{border:1px solid var(--stroke-focus)!important}.btn[_ngcontent-%COMP%]{width:44px;height:44px;angle:0 deg;opacity:1;gap:8px;border-radius:4px;border-width:1px;background:var(--stroke-light);color:var(--text-primary)}.addBtn[_ngcontent-%COMP%]{font-size:24px}.inp[_ngcontent-%COMP%]{width:189px;height:44px;angle:0 deg;opacity:1;gap:8px;text-align:center;border-radius:4px;border-width:1px;padding:10px 16px;background:var(--stroke-light);color:var(--text-primary)}.section-add-new-list-text[_ngcontent-%COMP%]{align-items:center;display:flex;width:345px;height:44px;angle:0 deg;opacity:1;gap:8px}.section-add-new-list-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.section-add-new-list-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center;width:261px;height:24px;angle:0 deg;opacity:1}.section-add-new-list-buttons[_ngcontent-%COMP%]{width:345px;height:44px;angle:0deg;opacity:1;gap:8px;display:flex;justify-content:space-between}.more[_ngcontent-%COMP%]{width:24px}"]})};export{F as EditItem};
