import{a as b}from"./chunk-WGBORDX4.js";import{c as V,d as D}from"./chunk-2Y56YT2H.js";import"./chunk-PS23FTD2.js";import{b as z,d as j,h as B,q as v}from"./chunk-HPGZ2Y7G.js";import{f as F,g as E,i as T}from"./chunk-CI6ANZ2A.js";import{$a as d,Ab as A,Da as g,Ha as f,Ma as M,V as x,W as h,Ya as m,Za as i,_a as o,a as C,f as O,fb as N,ga as P,jb as c,lb as _,rb as p,sb as u,ub as k,va as s,vb as L,wb as S,zb as I}from"./chunk-B4AEFEQM.js";var w=class a{constructor(t,e,n){this.listService=t;this.router=e;this.addNewList=n}name;title;create(){this.listService.setCurrentCompanyName(this.name)?this.close():alert("error")}close(){this.addNewList.setIsOpenedModalForName()}cancel(){this.router.navigate(["/app/load-management/today"])}static \u0275fac=function(e){return new(e||a)(g(b),g(V),g(y))};static \u0275cmp=f({type:a,selectors:[["app-add-name-modal"]],inputs:{title:"title"},decls:9,vars:3,consts:[[1,"modal-window"],[1,"font400size16"],["type","text",1,"mt16","font400size16",3,"ngModelChange","ngModel"],[1,"groupBtn","mt16"],[1,"font500size16",3,"click"],["]","",1,"font600size16","createBtn",3,"click","disabled"]],template:function(e,n){e&1&&(i(0,"section",0)(1,"h2",1),p(2),o(),i(3,"input",2),S("ngModelChange",function(l){return L(n.name,l)||(n.name=l),l}),o(),i(4,"div",3)(5,"button",4),c("click",function(){return n.cancel()}),p(6,"Cancel"),o(),i(7,"button",5),c("click",function(){return n.create()}),p(8,"Create"),o()()()),e&2&&(s(2),u(n.title),s(),k("ngModel",n.name),s(4),m("disabled",!n.name))},dependencies:[v,z,j,B],styles:[".modal-window[_ngcontent-%COMP%]{width:304px;height:176px;left:45px;gap:16px;angle:0 deg;opacity:1;padding:16px 24px;border-radius:8px;border-width:1px;background:var(--bg-container);position:absolute;text-align:center;top:204px}.modal-window[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:256px;height:44px;gap:8px;angle:0 deg;opacity:1;padding:10px 12px 10px 16px;border-radius:4px;border-width:1px;background:var(--bg-input);border:1px solid var(--focus-color);color:var(--text-primary)}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:hover, input[_ngcontent-%COMP%]:active, input[_ngcontent-%COMP%]:focus-within, input[_ngcontent-%COMP%]:focus-visible{color:var(--text-primary)!important;outline:none!important;border:1px solid var(--focus-color)!important}.groupBtn[_ngcontent-%COMP%]{width:256px;height:44px;gap:9px;angle:0 deg;opacity:1;display:flex}.groupBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:123.5px;height:44px;gap:8px;angle:0 deg;opacity:1;padding:10px 18px;border-radius:4px;background:transparent;color:var(--text-secondary-color);border:none}.groupBtn[_ngcontent-%COMP%]   .createBtn[_ngcontent-%COMP%]{background:var(--button-primary-color);color:var(--primary-color)}button[_ngcontent-%COMP%]:disabled{background:var(--button-primary-disabled)!important}"]})};function q(a,t){a&1&&d(0,"app-add-name-modal",13),a&2&&m("title","Enter the name")}function G(a,t){if(a&1){let e=N();i(0,"div")(1,"div",14)(2,"div",15),d(3,"img",16),i(4,"span",17),p(5),o()(),i(6,"div",18)(7,"button",19),c("click",function(){let r=x(e).$implicit,l=_();return h(l.decrement(r.key))}),d(8,"img",20),o(),i(9,"span",21),p(10),o(),i(11,"button",19),c("click",function(){let r=x(e).$implicit,l=_();return h(l.increment(r.key))}),d(12,"img",22),o(),i(13,"button",23),c("click",function(){x(e);let r=_();return h(r.calculator())}),d(14,"img",24),o()()()()}if(a&2){let e=t.$implicit;s(5),u(e.key),s(5),u(e.value)}}var y=class a{constructor(t){this.listService=t;this.companyName=this.listService.getCurrentCompanyName(),this.sub.add(this.listService.list$.subscribe(e=>{this.currentList=C({},e),this.applyFilter(this.filterValue)}))}currentList={name:"",date:"",value:{}};filteredList={};filterValue="";companyName="";isInputNameCompany=!1;isOpenedModalForName=P(!0);sub=new O;setIsOpenedModalForName(){this.isOpenedModalForName.set(!this.isOpenedModalForName),console.log(this.isOpenedModalForName()),this.companyName=this.listService.getCurrentCompanyName()}calculator(){}onFilterChange(t){let e=t.target.value||"";this.filterValue=e,this.applyFilter(e),window.scrollTo(0,0)}applyFilter(t){this.filteredList=this.listService.filterList(t)}increment(t){let e=(this.currentList.value[t]??0)+1;this.listService.addToList(t,e)}decrement(t){let e=Math.max(0,(this.currentList.value[t]??0)-1);this.listService.addToList(t,e)}resetList(){this.listService.resetList()}ngOnDestroy(){this.sub.unsubscribe()}static \u0275fac=function(e){return new(e||a)(g(b))};static \u0275cmp=f({type:a,selectors:[["app-add-new-list"]],decls:17,vars:6,consts:[[3,"title",4,"ngIf"],[1,"header-add-new-list","font400size16"],["routerLink","/app/load-management/all","src","assets/svg/load-calc-icons/arrow-back.svg",1,"more"],[1,"font400size16"],["src","assets/svg/load-calc-icons/download-svg.svg"],["src","assets/svg/load-calc-icons/More.svg",1,"more"],[1,"filterInput","mt12"],["src","assets/svg/load-calc-icons/filter.svg","alt","filter"],["type","text","placeholder","Search",1,"font400size16",3,"input","value"],["src","assets/svg/load-calc-icons/closeItem.svg","alt","close"],[1,"section-add-new-lists"],[4,"ngFor","ngForOf"],[3,"click"],[3,"title"],[1,"section-add-new-list","mt6"],[1,"section-add-new-list-text"],["src","assets/svg/load-calc-icons/Info.svg","alt","icon"],[1,"font600size16"],[1,"section-add-new-list-buttons"],[1,"btn",3,"click"],["src","assets/svg/load-calc-icons/Vector.svg"],[1,"inp","font400size16"],["src","assets/svg/load-calc-icons/add.svg"],[1,"btn-calculate","btn",3,"click"],["src","assets/svg/load-calc-icons/Calculate.svg","alt","icon-calculate"]],template:function(e,n){e&1&&(M(0,q,1,1,"app-add-name-modal",0),i(1,"header")(2,"div",1),d(3,"img",2),i(4,"span",3),p(5),o(),d(6,"img",4)(7,"img",5),o(),i(8,"div",6),d(9,"img",7),i(10,"input",8),c("input",function(l){return n.onFilterChange(l)}),o(),d(11,"img",9),o()(),i(12,"section",10),M(13,G,15,2,"div",11),I(14,"keyvalue"),o(),i(15,"button",12),c("click",function(){return n.resetList()}),p(16,"Reset List"),o()),e&2&&(m("ngIf",n.isOpenedModalForName()),s(5),u(n.companyName),s(5),m("value",n.filterValue),s(3),m("ngForOf",A(14,4,n.filteredList)))},dependencies:[F,v,E,D,w,T],styles:[".section-add-new-list[_ngcontent-%COMP%]{width:361px;height:112px;angle:0 deg;opacity:1;gap:8px;border-radius:6px;border-width:1px;padding:8px;background:var(--bg-container)}header[_ngcontent-%COMP%]{position:sticky;top:0;background:#000}.section-add-new-lists[_ngcontent-%COMP%]{height:2899px;overflow:scroll;margin-top:24px}input[_ngcontent-%COMP%]{border:none!important;outline:none!important;box-shadow:none!important;background:var(--bg-input);width:361px;height:44px;angle:0 deg;opacity:1;gap:8px;border-radius:4px;border-width:1px;padding:10px 12px 10px 16px}input[_ngcontent-%COMP%]:focus{border:1px solid var(--stroke-focus)!important}.btn-calculate[_ngcontent-%COMP%]{background:none;border:none}.item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none}.header-add-new-list[_ngcontent-%COMP%]{margin-top:-24px;width:361px;height:44px;angle:0 deg;opacity:1;left:16px;gap:8px;display:flex;justify-content:space-between}.header-add-new-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:44px;height:44px;background:none;border:none;color:var(--focus-color)}.header-add-new-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;left:50px;width:361px;margin-right:44px;color:var(--text-primary);justify-content:center}.filterInput[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:361px;height:44px;angle:0 deg;opacity:1;gap:6px;background:var(--bg-input);margin-bottom:24px;border-radius:4px}.filterInput[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.filterInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--text-primary);border:none;width:290px;height:24px;angle:0 deg;opacity:1;background:var(--bg-input)}.filterInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none!important}.filterInput[_ngcontent-%COMP%]:focus-within{border:1px solid var(--stroke-focus)!important}.btn[_ngcontent-%COMP%]{width:44px;height:44px;angle:0 deg;opacity:1;gap:8px;border-radius:4px;border-width:1px;background:var(--stroke-light);color:var(--text-primary)}.addBtn[_ngcontent-%COMP%]{font-size:24px}.inp[_ngcontent-%COMP%]{width:189px;height:44px;angle:0 deg;opacity:1;gap:8px;text-align:center;border-radius:4px;border-width:1px;padding:10px 16px;background:var(--stroke-light);color:var(--text-primary)}.section-add-new-list-text[_ngcontent-%COMP%]{align-items:center;display:flex;width:345px;height:44px;angle:0 deg;opacity:1;gap:8px}.section-add-new-list-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.section-add-new-list-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center;width:261px;height:24px;angle:0 deg;opacity:1}.section-add-new-list-buttons[_ngcontent-%COMP%]{width:345px;height:44px;angle:0deg;opacity:1;gap:8px;display:flex;justify-content:space-between}.more[_ngcontent-%COMP%]{width:24px}"]})};export{y as AddNewList};
