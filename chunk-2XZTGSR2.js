import{a as k}from"./chunk-UUXXO257.js";import{c as h}from"./chunk-2Y56YT2H.js";import"./chunk-PS23FTD2.js";import{e as b}from"./chunk-CI6ANZ2A.js";import{Da as d,Ha as _,ab as n,bb as i,cb as p,ga as u,kb as o,rb as c,tb as m,va as s}from"./chunk-B4AEFEQM.js";var x=class g{constructor(l,a,e){this.listService=l;this.router=a;this.location=e;this.key=this.router.url.split("/")[4],this.key.includes("%2F")&&(this.key=this.key.replace("%2F","/")),this.currentInput.set(this.listService.getCurrentList().value[this.key].toString())}key;history=u("");currentInput=u("0");btnClick(l){let a=l.target.innerText,e=this.currentInput(),r=e.slice(-1),t="+-\xD7\xF7";if(!(t.includes(a)&&t.includes(r))){if(e==="0"&&a!=="."){this.currentInput.set(a);return}this.currentInput.set(e+a)}}isValidExpression(l){return/[+\-×÷]{2,}/.test(l)?l.startsWith("-"):!0}btnClear(){this.currentInput.set("0"),this.history.set("")}btnBackspace(){let l=this.currentInput();this.currentInput.set(l.length>1?l.slice(0,-1):"0")}calculate(){let l=this.currentInput().replace(/×/g,"*").replace(/÷/g,"/");if(!this.isValidExpression(l)){this.currentInput.set("Error");return}try{let a=Function(`"use strict"; return (${l})`)();this.history.set(this.currentInput()),this.currentInput.set(String(a))}catch{this.currentInput.set("Error")}}enter(){this.listService.addToList(this.key,+this.currentInput()),this.location.back()}static \u0275fac=function(a){return new(a||g)(d(k),d(h),d(b))};static \u0275cmp=_({type:g,selectors:[["app-calculator"]],decls:48,vars:2,consts:[[1,"container-calculator"],[1,"calculator-history","font400size24"],[1,"calculator-output","font400size48"],[1,"btnArea","mt12"],[1,"btn_delete",3,"click"],["src","assets/svg/Delete.svg"],[1,"btn_backspace",3,"click"],["src","assets/svg/Backspace.svg"],[1,"btnL","color_blue",3,"click"],[1,"btnL",3,"click"],[1,"btnL","btn_zero",3,"click"],[1,"container-enter-btn"],[1,"enterBtn",3,"click"]],template:function(a,e){a&1&&(n(0,"section",0)(1,"div",1),c(2),i(),n(3,"div",2),c(4),i(),n(5,"div",3)(6,"div")(7,"button",4),o("click",function(){return e.btnClear()}),p(8,"img",5),i(),n(9,"button",6),o("click",function(){return e.btnBackspace()}),p(10,"img",7),i(),n(11,"button",8),o("click",function(t){return e.btnClick(t)}),c(12,"\xF7"),i()(),n(13,"div")(14,"button",9),o("click",function(t){return e.btnClick(t)}),c(15,"7"),i(),n(16,"button",9),o("click",function(t){return e.btnClick(t)}),c(17,"8"),i(),n(18,"button",9),o("click",function(t){return e.btnClick(t)}),c(19,"9"),i(),n(20,"button",8),o("click",function(t){return e.btnClick(t)}),c(21,"\xD7"),i()(),n(22,"div")(23,"button",9),o("click",function(t){return e.btnClick(t)}),c(24,"4"),i(),n(25,"button",9),o("click",function(t){return e.btnClick(t)}),c(26,"5"),i(),n(27,"button",9),o("click",function(t){return e.btnClick(t)}),c(28,"6"),i(),n(29,"button",8),o("click",function(t){return e.btnClick(t)}),c(30,"-"),i()(),n(31,"div")(32,"button",9),o("click",function(t){return e.btnClick(t)}),c(33,"1"),i(),n(34,"button",9),o("click",function(t){return e.btnClick(t)}),c(35,"2"),i(),n(36,"button",9),o("click",function(t){return e.btnClick(t)}),c(37,"3"),i(),n(38,"button",8),o("click",function(t){return e.btnClick(t)}),c(39,"+"),i()(),n(40,"div")(41,"button",10),o("click",function(t){return e.btnClick(t)}),c(42,"0"),i(),n(43,"button",8),o("click",function(){return e.calculate()}),c(44,"="),i()()(),n(45,"div",11)(46,"button",12),o("click",function(){return e.enter()}),c(47,"Enter"),i()()()),a&2&&(s(2),m(" ",e.history()," "),s(2),m(" ",e.currentInput()," "))},styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.container-calculator[_ngcontent-%COMP%]{margin-top:10px;width:361px;height:548px;top:200px;left:16px;gap:12px;angle:0deg;opacity:1}.calculator-output[_ngcontent-%COMP%]{width:361px;height:84px;gap:6px;angle:0deg;opacity:1;border-radius:8px;border-width:1px;padding:13px 16px;display:flex;align-items:center;justify-content:flex-end;color:var(--text-primary);background:var(--bg-input)}.btnArea[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;width:361px;height:452px;angle:0deg;opacity:1}.btnArea[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:361px;display:flex;justify-content:space-around;align-items:center;height:84px}.btnL[_ngcontent-%COMP%]{width:84px;height:84px;angle:0deg;opacity:1;border-radius:8px;border-width:1px;padding:20px;background:#1d2228;border:1px solid rgba(42,47,54,1);font-family:Inter;font-weight:400;font-style:Regular;font-size:36px;leading-trim:NONE;line-height:100%;letter-spacing:0%;text-align:center;color:#fff}.calculator-history[_ngcontent-%COMP%]{color:#9ba4ae;width:360px;height:29px;gap:10px;angle:0 deg;opacity:1;padding-right:16px;padding-left:16px;text-align:end}.btn_delete[_ngcontent-%COMP%]{width:176px;height:84px;gap:10px;angle:0deg;opacity:1;border-radius:8px;padding:21px;background:#ffa528}.container-enter-btn[_ngcontent-%COMP%]{position:fixed;bottom:0;height:60px;background:#000;z-index:1000;display:flex;align-items:center}.enterBtn[_ngcontent-%COMP%]{width:361px;height:44px;gap:8px;angle:0 deg;opacity:1;border-radius:4px;padding:10px 18px;margin-top:8px;margin-bottom:16px;background:#4c8dff;color:var(--text-primary)}.btn_backspace[_ngcontent-%COMP%]{width:84px;height:84px;gap:10px;angle:0deg;opacity:1;border-radius:8px;padding:20px;background:#ffa528}.btn_zero[_ngcontent-%COMP%]{width:269px;height:84px;gap:10px;angle:0deg;opacity:1;border-radius:8px;border-width:1px;padding:20px}.color_blue[_ngcontent-%COMP%]{background:var(--button-primary-color)}@media screen and (max-width:371px){.container-calculator[_ngcontent-%COMP%]{max-width:95vw}.btnArea[_ngcontent-%COMP%]{padding-top:-30px}.calculator-output[_ngcontent-%COMP%], .btnArea[_ngcontent-%COMP%]{width:95vw;gap:10px;align-content:center}:is(.calculator-output[_ngcontent-%COMP%], .btnArea[_ngcontent-%COMP%])   div[_ngcontent-%COMP%]{height:20vw}.btnL[_ngcontent-%COMP%]{padding:0;width:20vw;height:20vw}.btn_zero[_ngcontent-%COMP%]{width:68vw}.enterBtn[_ngcontent-%COMP%]{width:95vw}.btn_backspace[_ngcontent-%COMP%]{width:20vw;padding:0;height:20vw}.btn_delete[_ngcontent-%COMP%]{padding:0;width:45vw;height:20vw}}"]})};export{x as Calculator};
