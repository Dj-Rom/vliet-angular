import{a as R}from"./chunk-5V33CDKU.js";import{a as F}from"./chunk-YMMVSFRW.js";import{b as S,c as k}from"./chunk-OMSDW6S6.js";import{a as z}from"./chunk-UUXXO257.js";import{b as A,c as N}from"./chunk-2Y56YT2H.js";import{q as j}from"./chunk-HPGZ2Y7G.js";import{e as V,g as D}from"./chunk-CI6ANZ2A.js";import{$a as b,Da as p,Ha as h,Ma as y,Ta as x,Ua as C,V as s,W as m,Ya as P,Za as l,_a as d,ab as u,bb as g,cb as v,fb as _,jb as f,kb as M,lb as r,ob as E,rb as a,sb as O,ua as I,va as c,xb as T}from"./chunk-B4AEFEQM.js";function q(n,t){if(n&1){let e=_();u(0,"button",3),M("click",function(){s(e);let o=r();return m(o.changeFileName())}),v(1,"img",7),a(2,"Change file name"),g()}}function G(n,t){if(n&1){let e=_();u(0,"div",8),v(1,"img",9),u(2,"div",10)(3,"h5",11),a(4),g(),u(5,"span",12),a(6),g()()(),u(7,"button",3),M("click",function(){s(e);let o=r();return m(o.edit(o.date))}),v(8,"img",13),a(9,"Edit"),g()}if(n&2){let e=r();c(4),O(e.title),c(2),O(e.date)}}var w=class n{constructor(t,e){this.moreMenuService=t;this.modalService=e}date;title;async onDelete(t){try{let e=await this.modalService.openSureModal();console.log(e),e&&this.moreMenuService.deleteListItem(t)}catch(e){console.log(e)}}onSend(t){this.moreMenuService.sendToWhatsApp(t)}edit(t){this.moreMenuService.editListItem(t)}window=window;changeFileName(){this.modalService.openNameModal()}static \u0275fac=function(e){return new(e||n)(p(S),p(k))};static \u0275cmp=h({type:n,selectors:[["app-more-menu"]],inputs:{date:"date",title:"title"},features:[T([F])],decls:10,vars:1,consts:[[1,"more-menu"],["src","assets\\svg\\load-calc-icons\\closeItem.svg","alt","close more menu",1,"block","close-more-menu",3,"click"],[1,"block","font400size16","border"],[1,"block","font400size16","border",3,"click"],["src","assets/svg/navi/Sent.svg","alt","icon-sent"],[1,"block","font400size16",3,"click"],["src","assets/svg/navi/Delete.svg","alt","icon-delete"],["src","assets/svg/load-calc-icons/Edit_pencl.svg","alt","icon"],[1,"block","border","block-company-name"],["src","assets/svg/load-calc-icons/LocationAway.svg","alt","icon"],[1,"block-company-name"],[1,"font400size16"],[1,"font400size12"],["src","assets/svg/navi/Edit.svg","alt","icon-edit"]],template:function(e,i){e&1&&(u(0,"section",0)(1,"img",1),M("click",function(){return i.moreMenuService.closeMoreMenu()}),g(),x(2,q,3,0,"button",2)(3,G,10,2),u(4,"button",3),M("click",function(){return i.onSend(i.date)}),v(5,"img",4),a(6,"Sent"),g(),u(7,"button",5),M("click",function(){return i.onDelete(i.date)}),v(8,"img",6),a(9,"Delete"),g()()),e&2&&(c(2),C(i.window.location.pathname.includes("/app/load-management/add")?2:3))},styles:[".more-menu[_ngcontent-%COMP%]{border-radius:4px 4px 0 0;width:100%;background:var( --bg-container);color:var(--text-primary);position:fixed;bottom:0;left:0;z-index:1112001;display:flex;flex-direction:column;align-items:center;justify-content:center;padding-bottom:30px}.more-menu[_ngcontent-%COMP%]   .close-more-menu[_ngcontent-%COMP%]{padding-left:0!important;transform:translate(44vw);width:24px!important}.more-menu[_ngcontent-%COMP%]   .block-company-name[_ngcontent-%COMP%]{justify-content:center!important}.more-menu[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border-bottom:1px solid rgba(42,47,54,1)}.more-menu[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding-left:5%;height:56px;min-height:56px;angle:0 deg;opacity:1;gap:8px;padding-top:6px;padding-bottom:6px}.more-menu[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;margin:8px}.more-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-secondary-color)}.more-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;color:var(--text-primary)}"]})};function J(n,t){if(n&1){let e=_();l(0,"nav",7)(1,"ul",8)(2,"li",9),f("click",function(){s(e);let o=r(2);return m(o.changePage("all"))}),a(3,"All"),d(),l(4,"li",10),f("click",function(){s(e);let o=r(2);return m(o.changePage("today"))}),a(5,"Today"),d()()()}if(n&2){let e=r(2);c(2),E("active",e.selectedPage==="all"),c(2),E("active",e.selectedPage==="today")}}function K(n,t){if(n&1&&(l(0,"span",1),a(1,"Packaging Receiving"),d(),y(2,J,6,4,"nav",6)),n&2){let e=r();c(2),P("ngIf",e.selectedPage!=="add")}}function Q(n,t){n&1&&(l(0,"span",1),a(1,"Edit Package"),d())}function U(n,t){if(n&1){let e=_();l(0,"div",11),f("click",function(){s(e);let o=r();return m(o.changePage("calc"))}),l(1,"img",12),f("click",function(){s(e);let o=r();return m(o.location.back())}),d(),l(2,"span",1),a(3,"Calculator"),d(),b(4,"span"),d()}}function X(n,t){if(n&1&&(l(0,"app-more-menu",13),a(1," >"),d()),n&2){let e=r();P("date",e.menuDate)("title",e.menuTitle)}}function Z(n,t){}function ee(n,t){if(n&1){let e=_();l(0,"button",14),f("click",function(){s(e);let o=r();return m(o.changePage("add"))}),b(1,"img",15),d()}}var H=class n{constructor(t,e,i,o,L){this.router=t;this.loadCalculatorService=e;this.moreMenuService=i;this.modalService=o;this.location=L;this.selectedPage=t.url.split("/").pop()||"all"}selectedPage="all";isOpenMoreMenu=!1;menuTitle="";menuDate="";get isOpen(){return this.modalService.isNameModalOpen()}ngOnInit(){this.updateMenuState(),this.moreMenuService.isOpenMenuChanged$.subscribe(()=>{this.updateMenuState()})}updateMenuState(){this.isOpenMoreMenu=this.moreMenuService.getIsActiveMoreMenu()}openMenu(t,e){this.menuTitle=t,this.menuDate=e,this.moreMenuService.setIsOpenMoreMenu()}changePage(t){this.selectedPage=t,this.router.navigate(["app/load-management",t])}onClickOutside(t){t.target.closest("img")||this.moreMenuService.closeMoreMenu()}static \u0275fac=function(e){return new(e||n)(p(N),p(z),p(S),p(k),p(V))};static \u0275cmp=h({type:n,selectors:[["app-load-calculator-page"]],hostBindings:function(e,i){e&1&&f("click",function(L){return i.onClickOutside(L)},I)},decls:9,vars:3,consts:[[1,"calculator-section","mt24"],[1,"font400size16"],[1,"header"],[1,"mt24"],[3,"date","title",4,"ngIf"],[1,"btnAdd","active"],["class","navi font400size14 mt24",4,"ngIf"],[1,"navi","font400size14","mt24"],[1,"navi-ul"],["id","all",3,"click"],["id","today",3,"click"],[1,"header",3,"click"],["src","assets/svg/load-calc-icons/arrow-back.svg","alt","icon",3,"click"],[3,"date","title"],[1,"btnAdd","active",3,"click"],["src","assets/svg/load-calc-icons/add.svg"]],template:function(e,i){e&1&&(b(0,"app-alert"),l(1,"section",0),x(2,K,3,1)(3,Q,2,0,"span",1)(4,U,5,0,"div",2),b(5,"router-outlet",3),y(6,X,2,2,"app-more-menu",4),x(7,Z,0,0)(8,ee,2,0,"button",5),d()),e&2&&(c(2),C(i.selectedPage.includes("all")||i.selectedPage.includes("today")?2:i.selectedPage.includes("edit")?3:i.router.url.includes("calc")?4:-1),c(4),P("ngIf",i.isOpenMoreMenu),c(),C(i.router.url.includes("calc")||i.router.url.includes("add")?7:8))},dependencies:[A,j,D,w,R],styles:[".calculator-section[_ngcontent-%COMP%]{position:absolute;top:0;color:#fff;width:100%;display:flex;flex-direction:column;align-items:center;left:0}.btnAdd[_ngcontent-%COMP%]{position:fixed;width:56px;height:56px;angle:0 deg;opacity:1;bottom:90px;right:30px;gap:8px;padding:12px;border-radius:50%!important;background:var(--button-primary-bg)!important}.header[_ngcontent-%COMP%]{width:393px;height:44px;display:flex;gap:8px;angle:0 deg;opacity:1;padding-right:6px;padding-left:6px;justify-content:space-between;align-items:center}.header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:15px}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:15px;width:24px;height:24px}.navi[_ngcontent-%COMP%]{width:393px;height:40px;gap:10px;angle:0 deg;opacity:1;padding-right:16px;padding-left:16px}.active[_ngcontent-%COMP%]{font-weight:600;border:1px solid var(--button-primary-bg);border-radius:6px;background:var(--button-primary-bg)!important;color:var(--text-primary)!important}.navi-ul[_ngcontent-%COMP%]{width:361px;height:40px;angle:0 deg;opacity:1;border-radius:6px;padding:2px;background:var(--bg-container);list-style:none;display:flex}.navi-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center;color:var(--text-tertiary);background:var(--bg-container);width:178.5px;height:36px;gap:8px;angle:0 deg;opacity:1;padding:8px 16px;border-radius:4px}"]})};export{H as a};
