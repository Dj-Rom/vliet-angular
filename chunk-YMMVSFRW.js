import{a as T,b as U,c as j}from"./chunk-OMSDW6S6.js";import{a as V}from"./chunk-UUXXO257.js";import{c as A}from"./chunk-2Y56YT2H.js";import{q as E}from"./chunk-HPGZ2Y7G.js";import{f as L,g as I,i as N}from"./chunk-CI6ANZ2A.js";import{$a as d,Ab as P,Da as x,Ha as O,Ma as y,V as m,W as u,X as C,Y as M,Ya as f,Za as i,_a as n,a as w,f as b,fb as v,ga as h,jb as a,lb as p,rb as g,sa as k,sb as _,va as l,zb as S}from"./chunk-B4AEFEQM.js";function z(c,t){if(c&1){let e=v();i(0,"div",16)(1,"span",15),a("click",function(){m(e);let r=p();return u(r.isOpenInformation.set(!1))}),g(2,"X"),n(),d(3,"img",17),n()}if(c&2){let e=p();l(3),f("src",e.informationUrl(),k)}}function B(c,t){if(c&1){let e=v();i(0,"div")(1,"div",18)(2,"div",19)(3,"img",20),a("click",function(){let r=m(e).$implicit,s=p();return u(s.openInformation(r.key))}),n(),i(4,"span",21),g(5),n()(),i(6,"div",22)(7,"button",23),a("click",function(){let r=m(e).$implicit,s=p();return u(s.decrement(r.key))}),d(8,"img",24),n(),i(9,"span",25),g(10),n(),i(11,"button",26),a("click",function(){let r=m(e).$implicit,s=p();return u(s.increment(r.key))}),d(12,"img",27),n(),i(13,"button",28),a("click",function(){let r=m(e).$implicit,s=p();return u(s.calculator(r.key))}),d(14,"img",29),n()()()()}if(c&2){let e=t.$implicit;l(5),_(e.key),l(5),_(e.value)}}var F=class c{constructor(t,e,o,r,s){this.listService=t;this.appService=e;this.moreMenuService=o;this.router=r;this.modalService=s;this.appService.setAuth(!1),this.modalService.openNameModal(),this.sub.add(this.listService.list$.subscribe(D=>{this.currentList=w({},D),this.applyFilter(this.filterValue)}))}currentList={name:"",date:"",value:{}};filteredList={};filterValue="";isOpenInformation=h(!1);informationUrl=h("");sub=new b;onFilterChange(t){let e=t.target.value||"";this.filterValue=e,this.applyFilter(e),window.scrollTo(0,0)}applyFilter(t){this.filteredList=this.listService.filterList(t)}increment(t){let e=(this.currentList.value[t]??0)+1;this.listService.addToList(t,e)}decrement(t){let e=Math.max(0,(this.currentList.value[t]??0)-1);this.listService.addToList(t,e)}resetList(){this.listService.resetList()}save(){this.listService.currentCompanyName().length===0&&this.modalService.openNameModal(),this.listService.onDone(),this.appService.setAuth(!0)}openMenu(){this.moreMenuService.setIsOpenMoreMenu()}back(){this.router.navigateByUrl("/")}async download(){let t=this.listService.onDone();t&&this.moreMenuService.sendToWhatsApp(t)}ngOnDestroy(){this.sub.unsubscribe()}calculator(t){this.router.navigate(["/app/load-management/calc",t])}openInformation(t){switch(t){case"CC":this.informationUrl.set("assets/packages/cc.png");break;case"KK":this.informationUrl.set("assets/packages/kk.png");break;case"NC":this.informationUrl.set("assets/packages/nc.png");break;case"TAG-5":this.informationUrl.set("assets/packages/tag-5.png");break;case"TAG-6":this.informationUrl.set("assets/packages/tag-6.png");break;case"KK-SH":this.informationUrl.set("assets/packages/kk-sh.png");break;case"CC-SH":this.informationUrl.set("assets/packages/cc-sh.png");break;case"EUROPALLETA":this.informationUrl.set("assets/packages/palleta-euro.png");break;default:return}this.isOpenInformation.set(!0),console.log("opened")}static \u0275fac=function(e){return new(e||c)(x(V),x(T),x(U),x(A),x(j))};static \u0275cmp=O({type:c,selectors:[["app-add-new-list"]],decls:21,vars:6,consts:[[1,"header-add-new-list","font400size16"],["src","assets/svg/load-calc-icons/arrow-back.svg",1,"more",3,"click"],[1,"font400size16"],["src","assets/svg/load-calc-icons/download-svg.svg",1,"download-icon",3,"click"],["width","44","height","44","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",3,"click"],["d","M12 20C11.45 20 10.9792 19.8042 10.5875 19.4125C10.1958 19.0208 10 18.55 10 18C10 17.45 10.1958 16.9792 10.5875 16.5875C10.9792 16.1958 11.45 16 12 16C12.55 16 13.0208 16.1958 13.4125 16.5875C13.8042 16.9792 14 17.45 14 18C14 18.55 13.8042 19.0208 13.4125 19.4125C13.0208 19.8042 12.55 20 12 20ZM12 14C11.45 14 10.9792 13.8042 10.5875 13.4125C10.1958 13.0208 10 12.55 10 12C10 11.45 10.1958 10.9792 10.5875 10.5875C10.9792 10.1958 11.45 10 12 10C12.55 10 13.0208 10.1958 13.4125 10.5875C13.8042 10.9792 14 11.45 14 12C14 12.55 13.8042 13.0208 13.4125 13.4125C13.0208 13.8042 12.55 14 12 14ZM12 8C11.45 8 10.9792 7.80417 10.5875 7.4125C10.1958 7.02083 10 6.55 10 6C10 5.45 10.1958 4.97917 10.5875 4.5875C10.9792 4.19583 11.45 4 12 4C12.55 4 13.0208 4.19583 13.4125 4.5875C13.8042 4.97917 14 5.45 14 6C14 6.55 13.8042 7.02083 13.4125 7.4125C13.0208 7.80417 12.55 8 12 8Z","fill","rgba(255, 255, 255, 1)"],[1,"filterInput","mt12"],["src","assets/svg/load-calc-icons/filter.svg","alt","filter"],["type","text","placeholder","Search",1,"font400size16",3,"input","value"],["src","assets/svg/load-calc-icons/closeItem.svg","alt","close"],[1,"section-add-new-lists"],["class","information",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btnSaveContainer"],[1,"button","saveBtn","font600size16",3,"click"],[3,"click"],[1,"information"],["width","350px","alt","loader",1,"loader",3,"src"],[1,"section-add-new-list","mt6"],[1,"section-add-new-list-text"],["src","assets/svg/load-calc-icons/Info.svg","alt","icon",3,"click"],[1,"font600size16"],[1,"section-add-new-list-buttons","mt8"],[1,"btn","decrBtn",3,"click"],["src","assets/svg/load-calc-icons/Vector.svg"],[1,"inp","font400size16"],[1,"btn",3,"click"],["src","assets/svg/load-calc-icons/add.svg"],[1,"btn-calculate","btn",3,"click"],["src","assets/svg/load-calc-icons/Calculate.svg","alt","icon-calculate"]],template:function(e,o){e&1&&(i(0,"header")(1,"div",0)(2,"img",1),a("click",function(){return o.back()}),n(),i(3,"span",2),g(4),n(),i(5,"img",3),a("click",function(){return o.download()}),n(),C(),i(6,"svg",4),a("click",function(){return o.openMenu()}),d(7,"path",5),n()(),M(),i(8,"div",6),d(9,"img",7),i(10,"input",8),a("input",function(s){return o.onFilterChange(s)}),n(),d(11,"img",9),n()(),i(12,"section",10),y(13,z,4,1,"div",11)(14,B,15,2,"div",12),S(15,"keyvalue"),n(),i(16,"div",13)(17,"button",14),a("click",function(){return o.save()}),g(18,"Save"),n()(),i(19,"button",15),a("click",function(){return o.resetList()}),g(20,"Reset List"),n()),e&2&&(l(4),_(o.listService.currentCompanyName()),l(6),f("value",o.filterValue),l(3),f("ngIf",o.isOpenInformation()),l(),f("ngForOf",P(15,4,o.filteredList)))},dependencies:[L,E,I,N],styles:[".section-add-new-list[_ngcontent-%COMP%]{width:361px;height:112px;angle:0deg;opacity:1;gap:8px;border-radius:6px;border-width:1px;padding:8px;background:var(--bg-container)}header[_ngcontent-%COMP%]{position:sticky;display:flex;top:0;background:#000;flex-direction:column;align-content:center;align-items:center}.information[_ngcontent-%COMP%]{width:100%;display:flex;background:#000;position:fixed;top:120px;padding:40px;color:#000;justify-content:center;align-items:center;flex-direction:column}.information[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:translate(40vw,-20px);color:#fff}.section-add-new-lists[_ngcontent-%COMP%]{height:2899px;overflow:scroll;display:flex;flex-direction:column;align-content:center;align-items:center}input[_ngcontent-%COMP%]{border:none!important;outline:none!important;box-shadow:none!important;background:var(--bg-input);width:361px;height:44px;angle:0deg;opacity:1;gap:8px;border-radius:4px;border-width:1px;padding:10px 12px 10px 16px}input[_ngcontent-%COMP%]:focus{border:1px solid var(--stroke-focus)!important}.btn-calculate[_ngcontent-%COMP%]{background:none;border:none}.item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none}.header-add-new-list[_ngcontent-%COMP%]{margin-top:-24px;width:361px;height:44px;angle:0deg;opacity:1;left:16px;gap:8px;display:flex;justify-content:space-between}.header-add-new-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:44px;height:44px;background:none;border:none;color:var(--focus-color)}.header-add-new-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;left:50px;width:361px;margin-right:44px;color:var(--text-primary);justify-content:center}.filterInput[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:361px;height:44px;angle:0deg;opacity:1;gap:6px;background:var(--bg-input);margin-bottom:24px;border-radius:4px}.filterInput[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.filterInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--text-primary);border:none;width:290px;height:24px;angle:0deg;opacity:1;background:var(--bg-input)}.filterInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none!important}.filterInput[_ngcontent-%COMP%]:focus-within{border:1px solid var(--stroke-focus)!important}.btn[_ngcontent-%COMP%]{width:44px;height:44px;angle:0deg;opacity:1;gap:8px;border-radius:4px;background:#1e2329;color:var(--text-primary);border:1px solid rgba(47,54,62,1)}.addBtn[_ngcontent-%COMP%]{font-size:24px}.decrBtn[_ngcontent-%COMP%]{padding-bottom:7px!important}.download-icon[_ngcontent-%COMP%]{width:44px;height:44px}.inp[_ngcontent-%COMP%]{width:189px;height:44px;angle:0deg;opacity:1;gap:8px;text-align:center;border-radius:4px;padding:10px 16px;background:#1d2228;border:1px solid rgba(42,47,54,1);color:var(--text-primary)}.section-add-new-list-text[_ngcontent-%COMP%]{align-items:center;display:flex;width:345px;height:44px;angle:0deg;opacity:1;gap:8px}.section-add-new-list-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.section-add-new-list-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center;width:261px;height:24px;angle:0deg;opacity:1}.section-add-new-list-buttons[_ngcontent-%COMP%]{width:345px;height:44px;angle:0deg;opacity:1;gap:8px;display:flex;justify-content:space-between}.more[_ngcontent-%COMP%]{width:24px}.btnSaveContainer[_ngcontent-%COMP%]{position:fixed;z-index:199999;left:0;bottom:0;width:100%;text-align:center;margin:0 auto;height:80px;angle:0deg;opacity:1;background:#000;padding:8px 16px 28px;gap:10px}.modal-window-box[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;top:0;background:#000c}.saveBtn[_ngcontent-%COMP%]{border:var(--focus-color);width:361px;height:44px;angle:0deg;opacity:1;padding:10px 18px;gap:8px;border-radius:4px;background:var(--focus-color);color:var(--text-primary)}@media screen and (max-width:371px){.section-add-new-list[_ngcontent-%COMP%], .header[_ngcontent-%COMP%], .header-add-new-list[_ngcontent-%COMP%], .filterInput[_ngcontent-%COMP%]{max-width:95vw}.btnSaveContainer[_ngcontent-%COMP%]{min-width:100%;padding:10px 0 0;gap:0;height:70px}input[_ngcontent-%COMP%]{width:251px!important}.saveBtn[_ngcontent-%COMP%]{width:90vw}.section-add-new-list-buttons[_ngcontent-%COMP%], .section-add-new-list-text[_ngcontent-%COMP%]{max-width:90vw}}"]})};export{F as a};
